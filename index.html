
<!DOCTYPE html>
<html>

<head>
  <title>pairings</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.0/css/materialize.min.css">

  <style>
  * {
    font-family: sans-serif;
  }
  </style>

  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
</head>


<body>
  <h1>Pairings</h1>
  <ul id='pairingsUL'>
  </ul>
</body>

<script type='text/template' id='li-template'>
  <p>
  <%=Color%>
  <%=Credit%>
  <%=PairingName%>
  <%=Emoji%>
  <%=Timestamp%>
  </p>
</script>

<script src="lib/jquery.js"></script>
<script src="lib/underscore.js"></script>
<script src="lib/materialize.js"></script>
<script src="lib/tabletop.js"></script>

<script type="text/javascript">

    window.onload = function() { init() };

    var public_spreadsheet_url = 'https://docs.google.com/spreadsheets/d/1zqEx8Br9636pd3_xh5kaeXc7m7uVnk8PwvqAyAqdEUE/pubhtml';

    function init() {
      Tabletop.init( { key: public_spreadsheet_url, callback: showInfo, simpleSheet: true } )
    }

    function showInfo(data, tabletop) {
      process(data);
      console.log(data);
    }

    function process(data){
      var templ = _.template( $('#li-template').html() );
      for(var i = 0; i < data.length; i++){   
        // console.log( $('#pairingsLI').html() );     
        $('#pairingsUL').append(
          templ(data[i])
        );
      }
    }

</script>

</html>
